(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[870],{2099:(e,s,r)=>{"use strict";r.d(s,{U:()=>i});var t=r(3865);function i(){return(0,t.createBrowserClient)("https://nrlvcbiajcdmcnuhunwx.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5ybHZjYmlhamNkbWNudWh1bnd4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTEwNDg2ODMsImV4cCI6MjA2NjYyNDY4M30.3FaRlpefxUUsxhZdcAPAACOiQsGyyelHOs5S5ApIvAE")}},3812:(e,s,r)=>{Promise.resolve().then(r.bind(r,7896))},7896:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>c});var t=r(5155),i=r(2115),n=r(5695),l=r(2099);function a(){let[e,s]=(0,i.useState)("loading"),[r,a]=(0,i.useState)(""),c=(0,n.useSearchParams)(),o=(0,n.useRouter)(),d=(0,l.U)();return(0,i.useEffect)(()=>{(async()=>{try{var e;let r=c.get("token_hash"),t=c.get("type"),i=null!=(e=c.get("next"))?e:"/dashboard";if(r&&t){let{error:e}=await d.auth.verifyOtp({token_hash:r,type:t});e?(console.error("Error confirming email:",e),s("error"),a("There was an error confirming your email. Please try again or contact support.")):(s("success"),a("Your email has been confirmed successfully! Redirecting..."),setTimeout(()=>{o.push(i)},2e3))}else s("error"),a("Invalid confirmation link. Please check your email and try again.")}catch(e){console.error("Unexpected error:",e),s("error"),a("An unexpected error occurred. Please try again.")}})()},[c,o,d.auth]),(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"mx-auto h-12 w-12 flex items-center justify-center",children:["loading"===e&&(0,t.jsxs)("svg",{className:"animate-spin h-8 w-8 text-blue-600",fill:"none",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"success"===e&&(0,t.jsx)("svg",{className:"h-8 w-8 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"error"===e&&(0,t.jsx)("svg",{className:"h-8 w-8 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]}),(0,t.jsxs)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:["loading"===e&&"Confirming your email...","success"===e&&"Email confirmed!","error"===e&&"Confirmation failed"]}),(0,t.jsx)("p",{className:"mt-2 text-center text-sm text-gray-600",children:r})]}),"error"===e&&(0,t.jsx)("div",{className:"rounded-md bg-red-50 p-4",children:(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)("svg",{className:"h-5 w-5 text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,t.jsxs)("div",{className:"ml-3",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"What you can do:"}),(0,t.jsx)("div",{className:"mt-2 text-sm text-red-700",children:(0,t.jsxs)("ul",{className:"list-disc space-y-1 pl-5",children:[(0,t.jsx)("li",{children:"Check your email for the latest confirmation link"}),(0,t.jsx)("li",{children:"Make sure you're using the complete link from the email"}),(0,t.jsx)("li",{children:"Try requesting a new confirmation email"}),(0,t.jsx)("li",{children:"Contact support if the problem persists"})]})})]})]})}),"success"===e&&(0,t.jsx)("div",{className:"rounded-md bg-green-50 p-4",children:(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)("svg",{className:"h-5 w-5 text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,t.jsx)("div",{className:"ml-3",children:(0,t.jsx)("p",{className:"text-sm font-medium text-green-800",children:"You can now access all features of your account. You'll be redirected automatically."})})]})}),(0,t.jsx)("div",{className:"text-center",children:(0,t.jsx)("button",{onClick:()=>o.push("/login"),className:"text-blue-600 hover:text-blue-500 text-sm font-medium",children:"Return to login page"})})]})})}function c(){return(0,t.jsx)(i.Suspense,{fallback:(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}),children:(0,t.jsx)(a,{})})}}},e=>{e.O(0,[271,441,964,358],()=>e(e.s=3812)),_N_E=e.O()}]);